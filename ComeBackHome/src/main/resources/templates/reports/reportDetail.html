<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      layout:decorate="~{layout/layout}">
<head>
    <meta charset="UTF-8">
    <title>게시물 상세 페이지</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=lez4a7aeq8&submodules=geocoder"></script>
    <style>
        .layout {
            width: 500px;
            margin: 0 auto;
            margin-top: 40px;
        }

        .layout input {
            width: 100%;
            box-sizing: border-box;
        }

        .layout textarea {
            width: 100%;
            margin-top: 10px;
            min-height: 300px;
        }
    </style>
</head>

<body>
<div layout:fragment="content" class="container">
<table class ="table table-bordered">
    <thead>
    <caption>제보 상세보기</caption>
    </thead>
    <tbody>
    <tr>
        <th>제목</th>
        <td th:text="${report.getWitness_title()}"></td>
    </tr>
    <tbody>
    <tr>
        <th>작성자</th>
        <td th:text="${report.getUser().getName()}"></td>
    </tr>
    <tr>
        <th>목격 지역</th>
        <td th:text="${report.getWitness_area()}"></td>
    </tr>
    <tr>
        <th>본문 내용</th>
        <td th:text="${report.getWitness_desc()}"></td>
    </tr>

    <tr>
        <th>제보 사진</th>
        <img th:each="imageFile  : ${report.getWitnessPics()}"
             th:src="@{/images/{filename} (filename=${imageFile.getSavedFileName()})}" width="300" height="300" style="margin-right: 5px"/>
    </tr>
    </tbody>
</table>

<!--<form th:action="@{/reports/warn/{id}(id=${report.getId()})}" method="post">-->
<!--    <button type="submit">사용자 신고하기</button>-->
<!--</form>-->
<!--<a th:href="@{/reports/detail/{id}/warn (id=${report.getId()})}">사용자 신고하기</a>-->
    <a data-toggle="modal" href="#warnModal">사건 신고하기</a>


    <div class="modal fade" id="warnModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title" align="center">신고하기</h4>
                    <button type="button" class="close" data-dismiss="modal">×</button>
                </div>
                <div class="modal-body">
                    <!--   모달창 내용 넣기  -->
                    <form th:action="@{/reports/detail/{id}/warn/submit (id=${case.getCaseId()})}" method="post">
                        <div class="form-group">
                            <label for="warnReason">신고 이유</label>
                            <div>
                                <p><label><input type="radio" name="warnReason" value="1" id="1">허위신고</label></p>
                                <p><label><input type="radio" name="warnReason" value="2" id="2">욕설/비하</label></p>
                                <p><label><input type="radio" name="warnReason" value="3" id="3">낚시/놀람/도배</label></p>
                                <p><label><input type="radio" name="warnReason" value="4" id="4">유출/사칭/사기</label></p>
                                <p><label><input type="radio" name="warnReason" value="5" id="5">상업적 광고 및 판매</label></p>
                                <p><label><input type="radio" name="warnReason" value="6" id="6">희롱 또는 괴롭힘</label></p>
                                <p><label><input type="radio" name="warnReason" value="7" id="7">음란물/불건전한 만남 및 대화</label></p>
                                <p><label><input type="radio" name="warnReason" value="8" id="8">정당/정치인 비하 및 선거운동</label></p>
                            </div>
                        </div>
                        <button type="submit">등록</button>
                    </form>
                </div>
            </div>
        </div>
    </div>



    <div th:if="${report.getUser().getId() == user.getId()}">
    <a th:href="@{/reports/delete/{id}(id=${report.getId()})}">글 삭제</a>
    <a th:href="@{/reports/update/{id}(id=${report.getId()})}">글 수정</a>
</div>
</div>
</body>
</html>